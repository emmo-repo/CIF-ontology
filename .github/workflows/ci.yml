name: CI

on: [push]

jobs:
  pre-commit-basic:
    name: External
    uses: SINTEF/ci-cd/.github/workflows/ci_tests.yml@v1
    with:
      # general setup
      python_version: "3.7"
      install_extras: "/dic2owl[dev] && pip install -U --upgrade-strategy=eager -r requirements_docs.txt"
      run_pylint: false
      run_safety: false
      run_build_package: false

      # pre-commit
      run_pre-commit: true
      skip_pre-commit_hooks: "pylint,mypy,black,bandit,requirements-txt-fixer"

      # build docs
      run_build_docs: true
      package_dir: "dic2owl/dic2owl"
      exclude_dirs: |
        __pycache__
        _mkdocs
      exclude_files: |
        __init__.py
        _utils.py
      landing_page_replacements: |
        (LICENSE),(LICENSE.md)
        (dic2owl/README.md),(dic2owl/index.md)
        (ontology),(https://github.com/emmo-repo/CIF-ontology/tree/main/ontology)
        (ontology/catalog-v001.xml),(https://github.com/emmo-repo/CIF-ontology/blob/main/ontology/catalog-v001.xml)
      debug: true
